---
// Mobile CTA component
---

<div
  id="sticky-mobile-cta"
  class="fixed bottom-4 left-4 right-4 z-40 translate-y-full rounded-2xl bg-brand-navy px-5 py-4 text-white shadow-elevation transition-transform duration-300 md:hidden"
>
  <div class="flex items-center justify-between gap-4">
    <div class="flex-1">
      <p class="text-sm font-semibold text-white">Ready to get your books in order?</p>
      <p class="text-xs text-brand-gold opacity-90">Call (972) 555-1234</p>
    </div>
    <a
      href="tel:+19725551234"
      class="btn btn-secondary whitespace-nowrap"
      aria-label="Book a free consultation"
    >
      Book Consult
    </a>
  </div>
</div>

<script>
  // Show sticky CTA after scrolling
  let lastScrollTop = 0;
  const stickyCTA = document.getElementById('sticky-mobile-cta');

  window.addEventListener('scroll', () => {
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

    // Show CTA when scrolling down and past hero section
    if (scrollTop > 600 && scrollTop > lastScrollTop) {
      stickyCTA?.classList.remove('translate-y-full');
    } else if (scrollTop < lastScrollTop) {
      stickyCTA?.classList.add('translate-y-full');
    }

    lastScrollTop = scrollTop;
  });

  // Hide CTA when near footer
  const footer = document.querySelector('footer');
  if (footer && stickyCTA) {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          stickyCTA.classList.add('translate-y-full');
        }
      });
    }, { threshold: 0.1 });

    observer.observe(footer);
  }
</script>